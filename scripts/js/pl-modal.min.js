var pl;!function(t){var e=function(){function t(){this._handlers=[],this._scope=this||window}return t.prototype.add=function(t){t&&this._handlers.push(t)},t.prototype.fire=function(){var e=this,n=arguments;this._handlers.forEach(function(t){t.apply(e._scope,n)})},t.prototype.remove=function(e){this._handlers=this._handlers.filter(function(t){if(t!=e)return t})},t}();t.PLEvent=e}(pl||(pl={})),function(t){var e=function(){function o(){}return o.addClass=function(t,e){var n=e.split(" "),i=0;if(t.classList)for(;i<n.length;i++)t.classList.add(n[i]);else if(!o.hasClass(t,e))for(;i<n.length;i++)t.className+=" "+n[i]},o.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},o.removeClass=function(t,e){var n=e.split(" "),i=0;if(t.classList)for(;i<n.length;i++)t.classList.remove(n[i]);else for(;i<n.length;i++)t.className=t.className.replace(new RegExp("\\b"+n[i]+"\\b","g"),"")},o.reset=function(t){t.className=""},o.toggleClass=function(t,e){t.classList?t.classList.toggle(e):o.hasClass(t,e)?o.removeClass(t,e):o.addClass(t,e)},o}();t.Classie=e}(pl||(pl={})),function(t){var e=function(){function t(){}return t.capitalizeText=function(t){return t.replace(/\w/,function(t){return t.toUpperCase()})},t.extendsDefaults=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i={};for(n=0;n<t.length;n++)!function(t){var e;for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e])}(t[n]);return i},t}();t.Util=e}(pl||(pl={})),function(n){var t=function(){function e(t){this._isOpen=!1;this._settings=n.Util.extendsDefaults({avoidClose:!1,closeWithOverlay:!1,effectName:""},t||{}),this._transitionend=e.transitionSelect(),this.buildOut(),this.initializeEvents()}return e.transitionSelect=function(){var t=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n]},e.prototype.buildOut=function(){this.modal.appendChild(this.content),this._settings.avoidClose||this.content.appendChild(this.closeButton)},e.prototype.initializeEvents=function(){var e=this;if(!this._settings.avoidClose){document.addEventListener("keydown",function(t){27==t.keyCode&&e.close()},!1),this.closeButton.addEventListener("click",function(t){e.close()},!1),this._settings.closeWithOverlay&&this.overlay.addEventListener("click",function(t){e.close()},!1)}this.toggleTransitionend=this.toggleTransitionend.bind(this),this.content.addEventListener(this._transitionend,this.toggleTransitionend,!1)},e.prototype.removeFromDom=function(){this.overlay.parentNode.removeChild(this.overlay),this.modal.parentNode.removeChild(this.modal)},e.prototype.toggleTransitionend=function(t){var e=this,n=this._isOpen?this.onClosed:this.onOpened;this.content.removeEventListener(this._transitionend,this.toggleTransitionend),this._isOpen=!this._isOpen,n.call(this),setTimeout(function(){e.content.addEventListener(e._transitionend,e.toggleTransitionend,!1)},50)},e.prototype.close=function(){if(this._isOpen){var t=document.body;this.onClosing(),n.Classie.removeClass(t,"no-scroll"),n.Classie.removeClass(this.overlay,"pl-modal-open"),n.Classie.removeClass(this.modal,"pl-modal-open")}},e.prototype.changeEffect=function(t){this._settings.effectName=t,n.Classie.reset(this.modal),n.Classie.addClass(this.modal,"pl-modal"),n.Classie.addClass(this.modal,this._settings.effectName)},e.prototype.open=function(t){if(!this._isOpen){var e=document.body;this.setContent(t),e.appendChild(this.overlay),e.appendChild(this.modal),n.Classie.addClass(e,"no-scroll"),this.onOpening(),window.getComputedStyle(this.overlay).backgroundColor,window.getComputedStyle(this.modal).opacity,window.getComputedStyle(this.content).opacity,n.Classie.addClass(this.overlay,"pl-modal-open"),n.Classie.addClass(this.modal,"pl-modal-open")}},e.prototype.setContent=function(t){void 0===t&&(t=""),this.content.innerHTML="",this._settings.avoidClose||this.content.appendChild(this.closeButton),"string"==typeof t?this.content.appendChild(document.createTextNode(t)):this.content.appendChild(t)},e.prototype.onClosing=function(){this._closing&&this._closing.fire()},e.prototype.onOpening=function(){this._opening&&this._opening.fire()},e.prototype.onClosed=function(){this._closed&&this._closed.fire(),this.removeFromDom()},e.prototype.onOpened=function(){this._opened&&this._opened.fire()},Object.defineProperty(e.prototype,"closing",{get:function(){return this._closing||(this._closing=new n.PLEvent),this._closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opening",{get:function(){return this._opening||(this._opening=new n.PLEvent),this._opening},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closed",{get:function(){return this._closed||(this._closed=new n.PLEvent),this._closed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened||(this._opened=new n.PLEvent),this._opened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay||(this._overlay=document.createElement("div"),n.Classie.addClass(this._overlay,"pl-modal-overlay")),this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=document.createElement("div"),n.Classie.addClass(this._modal,"pl-modal"),n.Classie.addClass(this._modal,this._settings.effectName)),this._modal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content||(this._content=document.createElement("div"),n.Classie.addClass(this._content,"pl-modal-content")),this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeButton",{get:function(){return this._closeButton||(this._closeButton=document.createElement("div"),n.Classie.addClass(this._closeButton,"pl-modal-close-button")),this._closeButton},enumerable:!0,configurable:!0}),e}();n.Modal=t}(pl||(pl={}));