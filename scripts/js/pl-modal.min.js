var pl;!function(t){var e=function(){function t(){this._handlers=[],this._scope=this||window}return t.prototype.add=function(t){t&&this._handlers.push(t)},t.prototype.fire=function(){var t=this,e=arguments;this._handlers.forEach(function(n){n.apply(t._scope,e)})},t.prototype.remove=function(t){this._handlers=this._handlers.filter(function(e){if(e!=t)return e})},t}();t.PLEvent=e}(pl||(pl={})),function(t){var e=function(){function t(){}return t.addClass=function(e,n){e.classList?e.classList.add(n):t.hasClass(e,n)||(e.className+=" "+n)},t.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},t.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")},t.reset=function(t){t.className=""},t.toggleClass=function(e,n){e.classList?e.classList.toggle(n):t.hasClass(e,n)?t.removeClass(e,n):t.addClass(e,n)},t}();t.Classie=e}(pl||(pl={})),function(t){var e=function(){function t(){}return t.capitalizeText=function(t){return t.replace(/\w/,function(t){return t.toUpperCase()})},t.extendsDefaults=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i={};for(n=0;n<t.length;n++)!function(t){var e;for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e])}(t[n]);return i},t}();t.Util=e}(pl||(pl={})),function(t){var e=function(){function e(n){this._isOpen=!1;var i={avoidClose:!1,closeWithOverlay:!1,effectName:""};this._settings=t.Util.extendsDefaults(i,n||{}),this._transitionend=e.transitionSelect(),this.buildOut(),this.initializeEvents()}return e.transitionSelect=function(){var t=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n]},e.prototype.buildOut=function(){this.modal.appendChild(this.content),this._settings.avoidClose||this.content.appendChild(this.closeButton)},e.prototype.initializeEvents=function(){var t=this;if(!this._settings.avoidClose){document.addEventListener("keydown",function(e){27==e.keyCode&&t.close()},!1),this.closeButton.addEventListener("click",function(e){t.close()},!1),this._settings.closeWithOverlay&&this.overlay.addEventListener("click",function(e){t.close()},!1)}this.toggleTransitionend=this.toggleTransitionend.bind(this),this.content.addEventListener(this._transitionend,this.toggleTransitionend,!1)},e.prototype.removeFromDom=function(){this.overlay.parentNode.removeChild(this.overlay),this.modal.parentNode.removeChild(this.modal)},e.prototype.toggleTransitionend=function(t){var e=this,n=this._isOpen?this.onClosed:this.onOpened;this.content.removeEventListener(this._transitionend,this.toggleTransitionend),this._isOpen=!this._isOpen,n.call(this),setTimeout(function(){e.content.addEventListener(e._transitionend,e.toggleTransitionend,!1)},50)},e.prototype.close=function(){if(this._isOpen){var e=document.body;this.onClosing(),t.Classie.removeClass(e,"no-scroll"),t.Classie.removeClass(this.overlay,"pl-modal-open"),t.Classie.removeClass(this.modal,"pl-modal-open")}},e.prototype.changeEffect=function(e){this._settings.effectName=e,t.Classie.reset(this.modal),t.Classie.addClass(this.modal,"pl-modal"),t.Classie.addClass(this.modal,this._settings.effectName)},e.prototype.open=function(e){if(!this._isOpen){var n=document.body;this.setContent(e),n.appendChild(this.overlay),n.appendChild(this.modal),t.Classie.addClass(n,"no-scroll"),this.onOpening(),window.getComputedStyle(this.overlay).backgroundColor,window.getComputedStyle(this.modal).opacity,window.getComputedStyle(this.content).opacity,t.Classie.addClass(this.overlay,"pl-modal-open"),t.Classie.addClass(this.modal,"pl-modal-open")}},e.prototype.setContent=function(t){void 0===t&&(t=""),this.content.innerHTML="",this._settings.avoidClose||this.content.appendChild(this.closeButton),"string"==typeof t?this.content.appendChild(document.createTextNode(t)):this.content.appendChild(t)},e.prototype.onClosing=function(){this._closing&&this._closing.fire()},e.prototype.onOpening=function(){this._opening&&this._opening.fire()},e.prototype.onClosed=function(){this._closed&&this._closed.fire(),this.removeFromDom()},e.prototype.onOpened=function(){this._opened&&this._opened.fire()},Object.defineProperty(e.prototype,"closing",{get:function(){return this._closing||(this._closing=new t.PLEvent),this._closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opening",{get:function(){return this._opening||(this._opening=new t.PLEvent),this._opening},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closed",{get:function(){return this._closed||(this._closed=new t.PLEvent),this._closed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened||(this._opened=new t.PLEvent),this._opened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay||(this._overlay=document.createElement("div"),t.Classie.addClass(this._overlay,"pl-modal-overlay")),this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=document.createElement("div"),t.Classie.addClass(this._modal,"pl-modal"),t.Classie.addClass(this._modal,this._settings.effectName)),this._modal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content||(this._content=document.createElement("div"),t.Classie.addClass(this._content,"pl-modal-content")),this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeButton",{get:function(){return this._closeButton||(this._closeButton=document.createElement("div"),t.Classie.addClass(this._closeButton,"pl-modal-close-button")),this._closeButton},enumerable:!0,configurable:!0}),e}();t.Modal=e}(pl||(pl={}));